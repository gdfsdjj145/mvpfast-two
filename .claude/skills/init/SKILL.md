---
name: init
description: AI å¼•å¯¼å¼é¡¹ç›®åˆå§‹åŒ–ï¼ˆåˆ†é˜¶æ®µï¼‰ã€‚ç”¨æˆ·è¯´"åˆå§‹åŒ–é¡¹ç›®"ã€"setup"ã€"init"æ—¶ä½¿ç”¨ã€‚
author: MvpFast
user-invocable: true
---

# é¡¹ç›®åˆå§‹åŒ–å‘å¯¼

## è§¦å‘åœºæ™¯

ç”¨æˆ·è¯´"åˆå§‹åŒ–é¡¹ç›®"ã€"setup"ã€"init"ç­‰ã€‚

## åˆå§‹åŒ–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     é¡¹ç›®åˆå§‹åŒ–æµç¨‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Step 0: ç¯å¢ƒæ£€æŸ¥                                           â”‚
â”‚  â””â”€â”€ æ£€æŸ¥ .env æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™ä» .env.example å¤åˆ¶        â”‚
â”‚                                                             â”‚
â”‚  Step 1: æ”¶é›†åŸºç¡€ä¿¡æ¯                                        â”‚
â”‚  â””â”€â”€ é¡¹ç›®åç§°ã€ä¸»é¢˜è‰²ã€åŸŸå                                  â”‚
â”‚                                                             â”‚
â”‚  Step 2: è¯¢é—®æ•°æ®åº“é…ç½®                                      â”‚
â”‚  â”œâ”€â”€ é€‰æ‹©"æš‚ä¸é…ç½®" â†’ åªæ‰§è¡ŒåŸºç¡€é…ç½®ï¼Œè·³è¿‡ç®¡ç†å‘˜             â”‚
â”‚  â””â”€â”€ é€‰æ‹©"ç°åœ¨é…ç½®" â†’ ç»§ç»­ Step 3                           â”‚
â”‚                                                             â”‚
â”‚  Step 3: ç®¡ç†å‘˜è´¦å· (å¯é€‰)                                   â”‚
â”‚  â””â”€â”€ é‚®ç®±ã€å¯†ç                                              â”‚
â”‚                                                             â”‚
â”‚  æ‰§è¡Œ:                                                       â”‚
â”‚  â”œâ”€â”€ åŸºç¡€é…ç½®: Logoã€ä¸»é¢˜è‰²ã€i18nã€constants (æ— éœ€æ•°æ®åº“)    â”‚
â”‚  â””â”€â”€ ç®¡ç†å‘˜åˆ›å»º: å†™å…¥æ•°æ®åº“ (éœ€è¦æ•°æ®åº“)                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step 0: ç¯å¢ƒæ£€æŸ¥

### æ£€æŸ¥ .env æ–‡ä»¶

```bash
[ -f .env ] && echo "exists" || echo "not_exists"
```

**å¦‚æœ .env ä¸å­˜åœ¨ï¼š**

1. ä» .env.example å¤åˆ¶ï¼š
```bash
cp .env.example .env
```

2. å‘ŠçŸ¥ç”¨æˆ·ï¼š
```
å·²ä» .env.example åˆ›å»º .env æ–‡ä»¶ã€‚
```

---

## Step 1: æ”¶é›†åŸºç¡€ä¿¡æ¯

ä½¿ç”¨ `AskUserQuestion` æ”¶é›†ï¼š

**é—®é¢˜ 1 â€” é¡¹ç›®åç§°**
- é»˜è®¤å€¼: `MvpFast`
- ç”¨äº: ç«™ç‚¹æ ‡é¢˜ã€i18n å†…å®¹ã€Logo ç”Ÿæˆ
- éªŒè¯: éç©ºï¼Œâ‰¤30 å­—ç¬¦

**é—®é¢˜ 2 â€” ä¸»é¢˜è‰²**ï¼ˆé€‰é¡¹ï¼‰ï¼š
| é€‰é¡¹ | è‰²å€¼ |
|------|------|
| é›è“è‰²ï¼ˆæ¨èï¼‰ | `#6366f1` |
| ç¿ ç»¿è‰² | `#10b981` |
| ç¥ç€è‰² | `#f59e0b` |
| ç«çº¢è‰² | `#f43f5e` |

ç”¨æˆ·ä¹Ÿå¯é€‰ã€ŒOtherã€è‡ªå®šä¹‰ hex è‰²å€¼ã€‚

**é—®é¢˜ 3 â€” ç”Ÿäº§ç¯å¢ƒåŸŸå**
- é»˜è®¤å€¼: `example.com`
- ç¤ºä¾‹: `myproject.com`
- æ— éœ€è¾“å…¥ `https://` å‰ç¼€

---

## Step 2: è¯¢é—®æ•°æ®åº“é…ç½®

ä½¿ç”¨ `AskUserQuestion` è¯¢é—®ï¼š

**é—®é¢˜ â€” æ˜¯å¦ç°åœ¨é…ç½®æ•°æ®åº“ï¼Ÿ**

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| æš‚ä¸é…ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰ | åªç”ŸæˆåŸºç¡€é…ç½®ï¼Œç¨åè¿è¡Œ `/init-admin` åˆ›å»ºç®¡ç†å‘˜ |
| ç°åœ¨é…ç½® | ç»§ç»­é…ç½®æ•°æ®åº“å’Œåˆ›å»ºç®¡ç†å‘˜è´¦å· |

### é€‰æ‹©"æš‚ä¸é…ç½®"

ç›´æ¥è·³åˆ°ã€æ‰§è¡ŒåŸºç¡€é…ç½®ã€‘ï¼Œå®Œæˆåæç¤ºï¼š

```
âœ… åŸºç¡€é…ç½®å®Œæˆï¼

å·²ä¿®æ”¹æ–‡ä»¶:
- src/i18n/messages/zh.json / en.json
- src/app/(main)/globals.css (ä¸»é¢˜è‰²)
- src/constants/config.ts
- public/brand/logo.svg / title-logo.svg
- public/favicons/favicon.svg

ä¸‹ä¸€æ­¥:
1. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ï¼š
   DATABASE_URL="mongodb+srv://user:pass@cluster.mongodb.net/dbname"
   AUTH_SECRET="$(openssl rand -base64 32)"

2. é…ç½®å®Œæˆåï¼Œè¿è¡Œ /init-admin åˆ›å»ºç®¡ç†å‘˜è´¦å·

3. ç°åœ¨å¯ä»¥ pnpm dev é¢„è§ˆé¡¹ç›®ï¼ˆå¼€å‘ç¯å¢ƒè·³è¿‡ç™»å½•éªŒè¯ï¼‰
```

### é€‰æ‹©"ç°åœ¨é…ç½®"

ç»§ç»­ Step 3ã€‚

---

## Step 3: ç®¡ç†å‘˜è´¦å·ï¼ˆå¯é€‰ï¼‰

### 3.1 æ£€æŸ¥æ•°æ®åº“é…ç½®

è¯»å– .env æ£€æŸ¥ DATABASE_URLï¼š

```bash
grep "^DATABASE_URL=" .env | grep -v "your-\|example\|xxx\|mongodb+srv://user:pass"
```

**å¦‚æœæœªé…ç½®æœ‰æ•ˆçš„ DATABASE_URLï¼š**

ä½¿ç”¨ `AskUserQuestion` è¯¢é—®ï¼š

**é—®é¢˜ â€” è¯·è¾“å…¥ MongoDB è¿æ¥å­—ç¬¦ä¸²**
- æ ¼å¼: `mongodb+srv://user:pass@cluster.mongodb.net/dbname`
- å¯ä» MongoDB Atlas æ§åˆ¶å°è·å–

æ”¶é›†åï¼Œæ›´æ–° .env æ–‡ä»¶ä¸­çš„ DATABASE_URLã€‚

### 3.2 æ£€æŸ¥ AUTH_SECRET

```bash
grep "^AUTH_SECRET=" .env | grep -v "your-\|example\|xxx"
```

**å¦‚æœæœªé…ç½®ï¼š**

è‡ªåŠ¨ç”Ÿæˆå¹¶å†™å…¥ï¼š
```bash
AUTH_SECRET=$(openssl rand -base64 32)
```

### 3.3 æ”¶é›†ç®¡ç†å‘˜ä¿¡æ¯

ä½¿ç”¨ `AskUserQuestion` æ”¶é›†ï¼š

**é—®é¢˜ 1 â€” ç®¡ç†å‘˜é‚®ç®±**ï¼ˆå¿…å¡«ï¼‰

**é—®é¢˜ 2 â€” å¯†ç æ–¹å¼**ï¼ˆé€‰é¡¹ï¼‰ï¼š
| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| ç”Ÿæˆå¼ºå¯†ç ï¼ˆæ¨èï¼‰ | AI ç”Ÿæˆ 16 ä½éšæœºå¯†ç  |
| è‡ªå®šä¹‰å¯†ç  | ç”¨æˆ·è‡ªè¡Œè¾“å…¥ï¼Œâ‰¥6 ä½ |

ç”Ÿæˆå¼ºå¯†ç è§„åˆ™ï¼š
- 16 ä¸ªå­—ç¬¦
- åŒ…å«å¤§å†™ã€å°å†™ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼ˆ!@#$%^&*ï¼‰

---

## æ‰§è¡Œ

### åŸºç¡€é…ç½®ï¼ˆä¸éœ€è¦æ•°æ®åº“ï¼‰

**1. ä¿®æ”¹æœ¬åœ°é¡¹ç›®æ–‡ä»¶ï¼š**

```bash
npx tsx scripts/init-project.ts --name "<projectName>" --domain "<domain>" --color "<color>" --locale "zh"
```

**2. ç”Ÿæˆ Logoï¼š**

```bash
npx tsx scripts/generate-logo.ts --name "<projectName>" --color "<color>"
```

### ç®¡ç†å‘˜åˆ›å»ºï¼ˆéœ€è¦æ•°æ®åº“ï¼Œä»…å½“ç”¨æˆ·é€‰æ‹©"ç°åœ¨é…ç½®"ï¼‰

**æ£€æŸ¥ dev serverï¼š**

```bash
curl -s -o /dev/null -w "%{http_code}" http://localhost:3000/api/health 2>/dev/null
```

å¦‚æœæœªè¿è¡Œï¼Œæç¤ºç”¨æˆ· `pnpm dev`ã€‚

**è°ƒç”¨åˆå§‹åŒ– APIï¼š**

```bash
curl -s -X POST http://localhost:3000/api/admin/init \
  -H "Content-Type: application/json" \
  -d '{"projectName":"<projectName>","adminEmail":"<email>","adminPassword":"<password>","locale":"zh","domain":"<domain>"}'
```

**å¦‚æœ API å¤±è´¥ï¼Œä½¿ç”¨è„šæœ¬ï¼š**

```bash
npx tsx scripts/create-admin.ts <email> <password>
```

å¦‚æœè„šæœ¬æŠ¥ `Cannot find module '@prisma/client'`ï¼š
```bash
pnpm prisma generate
npx tsx scripts/create-admin.ts <email> <password>
```

---

## å®Œæˆè¾“å‡º

### åªå®ŒæˆåŸºç¡€é…ç½®æ—¶

```
âœ… åŸºç¡€é…ç½®å®Œæˆï¼

é¡¹ç›®åç§°: {projectName}
åŸŸå: {domain}
ä¸»é¢˜è‰²: {color}

å·²ä¿®æ”¹æ–‡ä»¶:
- src/i18n/messages/zh.json / en.json
- src/app/(main)/globals.css
- src/constants/config.ts
- public/brand/logo.svg / title-logo.svg
- public/favicons/favicon.svg

ä¸‹ä¸€æ­¥:
1. ç¼–è¾‘ .envï¼Œé…ç½® DATABASE_URL å’Œ AUTH_SECRET
2. è¿è¡Œ /init-admin åˆ›å»ºç®¡ç†å‘˜
3. pnpm dev é¢„è§ˆé¡¹ç›®
```

### å®Œæˆå…¨éƒ¨é…ç½®æ—¶

```
ğŸ‰ é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼

é¡¹ç›®åç§°: {projectName}
åŸŸå: {domain}
ä¸»é¢˜è‰²: {color}
ç®¡ç†å‘˜è´¦å·: {email}
ç®¡ç†å‘˜å¯†ç : {password}  â† è¯·å¦¥å–„ä¿å­˜ï¼

å·²ä¿®æ”¹æ–‡ä»¶:
- .env (DATABASE_URL, AUTH_SECRET)
- src/i18n/messages/zh.json / en.json
- src/app/(main)/globals.css
- src/constants/config.ts
- public/brand/logo.svg / title-logo.svg
- public/favicons/favicon.svg

åç»­æ­¥éª¤:
1. è®¿é—®ç™»å½•é¡µ: http://localhost:3000/zh/auth/signin
2. ä½¿ç”¨ç®¡ç†å‘˜é‚®ç®±å’Œå¯†ç ç™»å½•
3. è¿›å…¥åå°: http://localhost:3000/zh/dashboard
```

---

## é”™è¯¯å¤„ç†

| é”™è¯¯åœºæ™¯ | å¤„ç†æ–¹å¼ |
|---------|---------|
| .env ä¸å­˜åœ¨ | ä» .env.example å¤åˆ¶ |
| DATABASE_URL æ ¼å¼é”™è¯¯ | æç¤ºæ­£ç¡®æ ¼å¼ |
| dev server æœªå¯åŠ¨ | æç¤º `pnpm dev` |
| ç³»ç»Ÿå·²åˆå§‹åŒ– (403) | å‘ŠçŸ¥å¯ç›´æ¥ç™»å½• |
| Prisma å®¢æˆ·ç«¯æœªç”Ÿæˆ | è¿è¡Œ `pnpm prisma generate` |
| æ•°æ®åº“è¿æ¥å¤±è´¥ | æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²å’Œç½‘ç»œ |

---

## ç‹¬ç«‹ä½¿ç”¨

```bash
# å•ç‹¬ä¿®æ”¹é¡¹ç›®æ–‡ä»¶ï¼ˆä¸éœ€è¦æ•°æ®åº“ï¼‰
npx tsx scripts/init-project.ts --name "MyProject" --domain "mysite.com" --color "#10b981"

# å•ç‹¬ç”Ÿæˆ Logoï¼ˆä¸éœ€è¦æ•°æ®åº“ï¼‰
npx tsx scripts/generate-logo.ts --name "MyProject" --color "#10b981"

# å•ç‹¬åˆ›å»ºç®¡ç†å‘˜ï¼ˆéœ€è¦æ•°æ®åº“ï¼‰
npx tsx scripts/create-admin.ts admin@example.com password123
```
